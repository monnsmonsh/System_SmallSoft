
@{
    ViewBag.Title = "AgregaCarrito";
}

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutWeb.cshtml";
    <!---->ViewBag.CarritoA = "active";
}


    <div class="container">
        <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
            <h1 class="display-4" _msthash="254137" _msttexthash="95589">Mi Carrito de Compras</h1>
            <p class="lead" _msthash="241904" _msttexthash="23907715">
                

            </p>
        </div>


        <hr class="featurette-divider">
        <br />
        
        <table class="table table-striped table-bordered">
             <thead class="thead-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Total</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                @{
                    double total = 0;
                }
                @if (Session["carrito"] != null)
                {
                    foreach (var item in Session["carrito"] as List<SystemSmallSoft.Models.CarritoItem>)
                    {
                        total += item.calcularTotal();
                        <tr>
                            <td>@item.Producto.ProductoID</td>
                            <td>@item.Producto.Descripcion</td>
                            <td>@String.Format("{0:C}", item.Producto.PrecioUnitario)</td>
                            <td>@item.Cantidad</td>
                            <td>@String.Format("{0:C}", item.calcularTotal())</td>
                            <td>@Html.ActionLink("Eliminar", "Delete", "Carrito", new { id = item.Producto.ProductoID }, null)</td>
                        </tr>
                    }
                }
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="4">Total</th>
                    <th>@String.Format("{0:C}", total)</th>
                </tr>
            </tfoot>
        </table>
        @Html.ActionLink("Seguir Comprando", "Productos", "wp", null, null) |
        @Html.ActionLink("Terminar Compra", "FinalizarCompra", "Carrito", null, null)
    </div>
